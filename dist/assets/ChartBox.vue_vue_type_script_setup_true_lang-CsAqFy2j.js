import{d as P,a5 as L,a6 as v,a7 as A,z as B,a8 as I,$ as N,Z as U,a9 as D,aa as k,ab as $,c as j,o as q,C as E,w as O,b as w,_ as K,u as R,M as V,e as W}from"./index-BQpc_P69.js";import{C as _,R as Z,p as F,c as G,d as H,e as J,P as Q,f as X,i as Y}from"./chart-CugK0WYr.js";const S={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},ee={ariaLabel:{type:String},ariaDescribedby:{type:String}},te={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...S,...ee},ae=A[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function u(e){return k(e)?D(e):e}function se(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return k(t)?new Proxy(e,{}):e}function re(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function M(e,t){e.labels=t}function z(e,t,s){const n=[];e.datasets=t.map(r=>{const a=e.datasets.find(l=>l[s]===r[s]);return!a||!r.data||n.includes(a)?{...r}:(n.push(a),Object.assign(a,r),a)})}function ne(e,t){const s={labels:[],datasets:[]};return M(s,e.labels),z(s,e.datasets,t),s}const oe=P({props:te,setup(e,t){let{expose:s,slots:n}=t;const r=B(null),a=L(null);s({chart:a});const l=()=>{if(!r.value)return;const{type:o,data:b,options:g,plugins:p,datasetIdKey:h}=e,y=ne(b,h),c=se(y,b);a.value=new _(r.value,{type:o,data:c,options:{...g},plugins:p})},i=()=>{const o=D(a.value);o&&(e.destroyDelay>0?setTimeout(()=>{o.destroy(),a.value=null},e.destroyDelay):(o.destroy(),a.value=null))},f=o=>{o.update(e.updateMode)};return I(l),N(i),U([()=>e.options,()=>e.data],(o,b)=>{let[g,p]=o,[h,y]=b;const c=D(a.value);if(!c)return;let m=!1;if(g){const d=u(g),x=u(h);d&&d!==x&&(re(c,d),m=!0)}if(p){const d=u(p.labels),x=u(y.labels),C=u(p.datasets),T=u(y.datasets);d!==x&&(M(c.config.data,d),m=!0),C&&C!==T&&(z(c.config.data,C,e.datasetIdKey),m=!0)}m&&$(()=>{f(c)})},{deep:!0}),()=>v("canvas",{role:"img",ariaLabel:e.ariaLabel,ariaDescribedby:e.ariaDescribedby,ref:r},[v("p",{},[n.default?n.default():""])])}});function ie(e,t){return _.register(t),P({props:S,setup(s,n){let{expose:r}=n;const a=L(null),l=i=>{a.value=i?.chart};return r({chart:a}),()=>v(oe,ae({ref:l},{type:e,...s}))}})}const le=ie("radar",Z),ue=P({__name:"ChartBox",props:{comparisonChart:{}},setup(e){const t=e;_.register(F,G,H,J,Q,X,Y);const{labels:s,currentUserData:n,recommendedProductData:r}=t.comparisonChart,a={labels:s,datasets:[{label:"현재 상품",data:n.map(i=>i*20),backgroundColor:"rgba(0, 152, 194, 0.2)",borderColor:"rgba(0, 152, 194, 1)",borderWidth:2},{label:"추천 상품",data:r.map(i=>i*20),backgroundColor:"rgba(81, 185, 16, 0.2)",borderColor:"rgba(81, 185, 16, 1)",borderWidth:2}]},l={responsive:!0,scales:{r:{beginAtZero:!0,min:0,max:100,ticks:{stepSize:25,backdropColor:"transparent"},pointLabels:{font:{size:14}}}},plugins:{legend:{labels:{font:{size:14}}}}};return(i,f)=>(q(),j(E,{class:"bg-white border border-gray-150"},{default:O(()=>[w(K,{icon:R(V),iconClass:"text-sub-orange-p",class:"mb-4"},{default:O(()=>f[0]||(f[0]=[W(" 현재 상품과 비교 ")])),_:1,__:[0]},8,["icon"]),w(R(le),{data:a,options:l})]),_:1}))}});export{ue as _};
