import{b as i,a as h,_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-BvONmtKi.js";import{d as S,p,j as M,g,o as d,s as G,b as t,w as l,e as s,a as j,F as E,h as P,c as V,n as T,t as _,u as v,l as U}from"./index-DberAeK0.js";import{_ as w}from"./Input.vue_vue_type_script_setup_true_lang-Biujemq_.js";import{C as c}from"./Card-D6RuHQT6.js";import{g as A,a as x}from"./goalCategory.constants-Dz8MtMeY.js";import{m as C}from"./user.mock-BIFHvtDl.js";import{f as D}from"./index-DOkgZAuV.js";import{u as F}from"./goal.store-oXsSSajX.js";import{b as L}from"./goal.mock-INTdnmCw.js";import{_ as O}from"./Tag.vue_vue_type_script_setup_true_lang-D9gQvy3O.js";const R=async({url:b,method:u,body:r,headers:m={}})=>{try{const o=await fetch(b,{method:u,headers:{"Content-Type":"application/json",...m},body:r?JSON.stringify(r):void 0}),f=await o.json();if(!o.ok)throw new Error(f.message||"API ìš”ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");return f}catch(o){throw console.error("[fetcher error]",o),o}},q={class:"flex flex-col items-center justify-center max-w-md mx-auto"},z=["src"],J={class:"grid grid-cols-3 gap-2"},H=S({__name:"GoalSimulationInputForm",setup(b){const u=p(null),r=p(""),m=p(""),o=p(""),f=U(),k=F(),y=M(()=>{const n=D[C.nowME||""];return n||console.warn(`${C.nowME}ì— ëŒ€í•œ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.`),n}),I=n=>{u.value=n},B=async()=>{if(u.value===null||!r.value||!m.value||!o.value){alert("ëª¨ë“  í•­ëª©ì„ ìž…ë ¥í•´ì£¼ì„¸ìš”.");return}const n=x.indexOf(u.value);if(n===-1){alert("ì„ íƒí•œ ì¹´í…Œê³ ë¦¬ê°€ ìž˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.");return}const e={goalName:r.value,categoryId:n,targetAmount:parseInt(m.value),goalDurationMonths:parseInt(o.value)};let a;try{a=await R({url:"/api/goals/simulation",method:"POST",body:e})}catch{console.warn("âš ï¸ ì„œë²„ ì—°ê²° ì‹¤íŒ¨, mock ë°ì´í„° ì‚¬ìš©"),a=L}k.setResult(a),f.push("/goal/simulation/result")};return(n,e)=>(d(),g("div",q,[y.value?(d(),g("img",{key:0,src:y.value,alt:"ì„±í–¥ ì´ë¯¸ì§€",class:"w-1/3"},null,8,z)):G("",!0),t(i,{type:"B_20_160",class:"mb-4"},{default:l(()=>e[3]||(e[3]=[s("ìžë¦°ê³ ë¹„í˜• ë§žì¶¤ ëª©í‘œ ì„¤ì •")])),_:1,__:[3]}),t(c,{class:"w-full mb-4 bg-white border border-gray-150"},{default:l(()=>[t(i,{type:"B_16_120",class:"mb-4 w-full"},{default:l(()=>e[4]||(e[4]=[s("ðŸŽ¯ ëª©í‘œ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”")])),_:1,__:[4]}),j("div",J,[(d(!0),g(E,null,P(v(x),a=>(d(),V(O,{key:a,class:T(["border rounded px-2 py-1 text-sm",u.value===a?"bg-sub-yellow-p text-white border-none":"bg-white text-gray-800"]),onClick:$=>I(a)},{default:l(()=>[s(_(v(A)[a])+" "+_(a),1)]),_:2},1032,["class","onClick"]))),128))])]),_:1}),t(c,{class:"w-full mb-4 bg-white border border-gray-150"},{default:l(()=>[t(i,{type:"B_16_120",class:"mb-4 w-full"},{default:l(()=>e[5]||(e[5]=[s("ðŸ ëª©í‘œëª…ì„ ìž…ë ¥í•´ì£¼ì„¸ìš”")])),_:1,__:[5]}),t(w,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),label:"ëª©í‘œëª…",class:"w-full mt-2"},null,8,["modelValue"])]),_:1}),t(c,{class:"w-full mb-4 bg-white border border-gray-150"},{default:l(()=>[t(i,{type:"B_16_120",class:"mb-4 w-full"},{default:l(()=>e[6]||(e[6]=[s("ðŸ’° ëª©í‘œ ê¸ˆì•¡ì„ ìž…ë ¥í•´ì£¼ì„¸ìš”")])),_:1,__:[6]}),t(w,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=a=>m.value=a),label:"ê¸ˆì•¡",type:"number",class:"w-full mt-2"},null,8,["modelValue"]),t(i,{type:"M_12_120",class:"w-full text-sub-orange-p mt-1 p-2 bg-sub-orange-bg border border-sub-orange-p"},{default:l(()=>[s(" ëª©í‘œ ê¸ˆì•¡ : "+_(parseInt(m.value||"0").toLocaleString())+"ì› ",1)]),_:1})]),_:1}),t(c,{class:"w-full mb-4 bg-white border border-gray-150"},{default:l(()=>[t(i,{type:"B_16_120",class:"mb-2"},{default:l(()=>e[7]||(e[7]=[s("ðŸ“† ëª©í‘œ ê¸°ê°„ (ê°œì›” ìˆ˜)")])),_:1,__:[7]}),t(w,{modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value=a),label:"ê¸°ê°„",type:"number",class:"w-full mt-2"},null,8,["modelValue"]),t(i,{type:"M_12_120",class:"w-full text-sub-orange-p mt-1 p-2 bg-sub-orange-bg border border-sub-orange-p"},{default:l(()=>[s(" ëª©í‘œ ê°œì›” : "+_(parseInt(o.value||"0").toLocaleString())+"ì›” ",1)]),_:1})]),_:1}),t(h,{class:"w-full mt-4",onClick:B},{default:l(()=>e[8]||(e[8]=[s("ì œì¶œí•˜ê¸°")])),_:1,__:[8]})]))}}),oe=S({__name:"GoalSimulationInputPage",setup(b){return(u,r)=>(d(),V(N,null,{default:l(()=>[t(H)]),_:1}))}});export{oe as default};
