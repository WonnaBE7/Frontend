import{_ as A}from"./AllGoalBox.vue_vue_type_script_setup_true_lang-CEsPDDzq.js";import{c as N,b as i,a as L,T as S,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-_En372kh.js";import{m as P}from"./goal.mock-INTdnmCw.js";import{d as T,p as k,j as $,g as f,o as s,a as p,b as a,w as l,e as r,t as g,n as V,T as R,s as j,F as D,h as M,c as v,f as B,u as c,l as z}from"./index-DcTUbPG3.js";import{C as x}from"./Card-BvxrAT22.js";import{_ as E}from"./IconLabel.vue_vue_type_script_setup_true_lang-BzeLiESO.js";import{_ as I}from"./CurrentGoal.vue_vue_type_script_setup_true_lang-14Qo84Vz.js";import{C as O}from"./calendar-_X6J82xJ.js";import{C as q}from"./circle-dollar-sign-CYYNBRM8.js";import"./NoBorderTag.vue_vue_type_script_setup_true_lang-DlyDfm_J.js";import"./goalCategory.constants-Dz8MtMeY.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=N("file-plus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]),H={key:0,class:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-300 rounded shadow-lg z-50"},U={class:"py-1"},Z=["onClick"],J=T({__name:"CustomDropdown",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(b,{emit:d}){const m=b,n=d,u=k(!1),y=k(),h=$(()=>m.options.find(e=>e.value===m.modelValue)||m.options[0]);function C(){u.value=!u.value}function o(e){n("update:modelValue",e.value),u.value=!1}function t(e){const _=e.relatedTarget;(!_||!y.value?.contains(_))&&setTimeout(()=>{u.value=!1},150)}return(e,_)=>(s(),f("div",{ref_key:"dropdownRef",ref:y,class:"relative inline-block w-36"},[p("button",{onClick:C,onBlur:t,class:"w-full border border-gray-300 rounded px-3 py-2 text-sm bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-sub-yellow-p flex items-center justify-between hover:bg-gray-50 transition-colors duration-200"},[a(i,{type:"M_14_120"},{default:l(()=>[r(g(h.value.label),1)]),_:1}),(s(),f("svg",{class:V(["w-4 h-4 text-gray-500 transition-transform duration-200",{"rotate-180":u.value}]),viewBox:"0 0 20 20",fill:"currentColor"},_[0]||(_[0]=[p("path",{d:"M7 7l3 3 3-3"},null,-1)]),2))],32),a(R,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95 -translate-y-1","enter-to-class":"opacity-100 scale-100 translate-y-0","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0","leave-to-class":"opacity-0 scale-95 -translate-y-1"},{default:l(()=>[u.value?(s(),f("div",H,[p("ul",U,[(s(!0),f(D,null,M(e.options,w=>(s(),f("li",{key:w.value,onClick:Y=>o(w),class:V(["px-3 py-2 text-sm text-gray-800 hover:bg-sub-yellow-bg cursor-pointer transition-colors duration-150",{"bg-sub-yellow-bg text-sub-yellow-p font-medium":w.value===e.modelValue}])},g(w.label),11,Z))),128))])])):j("",!0)]),_:1})],512))}}),K={class:"w-full flex flex-row justify-between mb-4 items-center"},Q={class:"flex flex-row w-full gap-2 mt-2"},W={class:"flex flex-row items-center gap-4 w-full"},X=T({__name:"GoalSummaryBox",props:{goals:{}},setup(b){const d=b,m=z(),n=k("dateAsc"),u=[{value:"dateAsc",label:"오름차순"},{value:"dateDesc",label:"내림차순"},{value:"statusProgress",label:"진행중"},{value:"statusComplete",label:"완료"}];function y(o){m.push({path:"/goal/report",query:{goalId:o.toString()}})}function h(){m.push({path:"/goal/simulation/input"})}const C=$(()=>{const o=[...d.goals];switch(n.value){case"dateAsc":return o.sort((t,e)=>new Date(t.startDate).getTime()-new Date(e.startDate).getTime());case"dateDesc":return o.sort((t,e)=>new Date(e.startDate).getTime()-new Date(t.startDate).getTime());case"statusProgress":return o.filter(t=>t.status==="PUBLISHED");case"statusComplete":return o.filter(t=>t.status==="ACHIEVED");default:return o}});return(o,t)=>(s(),f(D,null,[a(L,{class:"fixed bottom-24 right-4 z-40 bg-sub-yellow-p hover:bg-sub-yellow-d text-white rounded-full w-14 h-14 flex items-center justify-center max-w-[56px]",onClick:h},{default:l(()=>[(s(),v(B(c(F)),{class:"w-5 h-5"}))]),_:1}),p("div",K,[a(E,{icon:c(S)},{default:l(()=>t[1]||(t[1]=[r("목표 리스트")])),_:1,__:[1]},8,["icon"]),a(J,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),options:u},null,8,["modelValue"])]),p("div",null,[(s(!0),f(D,null,M(C.value,e=>(s(),v(x,{key:e.id,class:"bg-white border border-gray-150 mb-4",onClick:_=>y(e.id)},{default:l(()=>[a(I,{label:e.goalName,category:e.categoryName,finType:e.nowmeName,percent:e.progressRate.toString(),color:"",class:"bg-white"},null,8,["label","category","finType","percent"]),p("div",Q,[a(x,{class:"bg-sub-yellow-bg"},{default:l(()=>[a(i,{type:"M_10_120",class:"w-full mb-2"},{default:l(()=>t[2]||(t[2]=[r("목표 금액")])),_:1,__:[2]}),a(i,{type:"B_12_120",class:"w-full"},{default:l(()=>[r(g(e.targetAmount.toLocaleString())+"원",1)]),_:2},1024)]),_:2},1024),a(x,{class:"bg-sub-yellow-bg"},{default:l(()=>[a(i,{type:"M_10_120",class:"w-full mb-2"},{default:l(()=>t[3]||(t[3]=[r("현재 달성")])),_:1,__:[3]}),a(i,{type:"B_12_120",class:"w-full"},{default:l(()=>[r(g(e.currentAmount.toLocaleString())+"원",1)]),_:2},1024)]),_:2},1024)]),p("div",W,[a(i,{type:"B_12_120",class:"flex flex-row items-center"},{default:l(()=>[(s(),v(B(c(O)),{class:"w-4 mr-2"})),r(" "+g(e.goalDurationMonths)+"개월 ",1)]),_:2},1024),a(i,{type:"M_12_120",class:"text-gray-500"},{default:l(()=>[r("시작일: "+g(e.startDate),1)]),_:2},1024)])]),_:2},1032,["onClick"]))),128))])],64))}}),de=T({__name:"GoalPage",setup(b){const d=P;return(m,n)=>(s(),v(G,null,{default:l(()=>[a(x,{class:"bg-white border border-gray-150"},{default:l(()=>[a(i,{type:"B_16_120",class:"w-full mb-4"},{default:l(()=>n[0]||(n[0]=[r("총 목표 현황")])),_:1,__:[0]}),a(A,{color1:"bg-sub-yellow-p",color2:"bg-sub-orange-p",icon1:c(S),icon2:c(q),content1:c(d).totalGoalCount.toString(),content2:c(d).totalTargetAmount.toLocaleString()+"원",label1:"총 목표",label2:"총 목표 금액"},null,8,["icon1","icon2","content1","content2"])]),_:1}),a(X,{goals:c(d).goals},null,8,["goals"])]),_:1}))}});export{de as default};
