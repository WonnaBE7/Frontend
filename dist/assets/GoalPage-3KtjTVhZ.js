import{_ as M}from"./AllGoalBox.vue_vue_type_script_setup_true_lang-DbZUogtM.js";import{d as S,z as k,j as T,g as m,o as a,a as p,b as t,t as i,w as l,e as o,v as g,s as V,an as A,H as G,F as B,h as D,q as L,c as v,f as $,u as c,af as P,_ as R,T as N,C as x,y as j,n as z}from"./index-BQpc_P69.js";import{m as E}from"./goal.mock-XxgrMpH7.js";import{_ as O}from"./CurrentGoal.vue_vue_type_script_setup_true_lang-DbtL7cck.js";import{C as F}from"./calendar-B2inLpTP.js";import{C as H}from"./circle-dollar-sign-ktm4JEeZ.js";import"./goalCategory.constants-Dz8MtMeY.js";const I={key:0,class:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-300 rounded shadow-lg z-50"},q={class:"py-1"},U=["onClick"],J=S({__name:"CustomDropdown",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(b,{emit:d}){const f=b,r=d,n=k(!1),y=k(),C=T(()=>f.options.find(e=>e.value===f.modelValue)||f.options[0]);function h(){n.value=!n.value}function u(e){r("update:modelValue",e.value),n.value=!1}function s(e){const _=e.relatedTarget;(!_||!y.value?.contains(_))&&setTimeout(()=>{n.value=!1},150)}return(e,_)=>(a(),m("div",{ref_key:"dropdownRef",ref:y,class:"relative inline-block w-36"},[p("button",{onClick:h,onBlur:s,class:"w-full border border-gray-300 rounded px-3 py-2 text-sm bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-sub-yellow-p flex items-center justify-between hover:bg-gray-50 transition-colors duration-200"},[t(i,{type:"M_14_120"},{default:l(()=>[o(g(C.value.label),1)]),_:1}),(a(),m("svg",{class:V(["w-4 h-4 text-gray-500 transition-transform duration-200",{"rotate-180":n.value}]),viewBox:"0 0 20 20",fill:"currentColor"},_[0]||(_[0]=[p("path",{d:"M7 7l3 3 3-3"},null,-1)]),2))],32),t(A,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"opacity-0 scale-95 -translate-y-1","enter-to-class":"opacity-100 scale-100 translate-y-0","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100 scale-100 translate-y-0","leave-to-class":"opacity-0 scale-95 -translate-y-1"},{default:l(()=>[n.value?(a(),m("div",I,[p("ul",q,[(a(!0),m(B,null,D(e.options,w=>(a(),m("li",{key:w.value,onClick:Y=>u(w),class:V(["px-3 py-2 text-sm text-gray-800 hover:bg-sub-yellow-bg cursor-pointer transition-colors duration-150",{"bg-sub-yellow-bg text-sub-yellow-p font-medium":w.value===e.modelValue}])},g(w.label),11,U))),128))])])):G("",!0)]),_:1})],512))}}),K={class:"w-full flex flex-row justify-between mb-4 items-center"},Q={class:"flex flex-row w-full gap-2"},W={class:"flex flex-row items-center gap-4 w-full"},X=S({__name:"GoalSummaryBox",props:{goals:{}},setup(b){const d=b,f=j(),r=k("dateAsc"),n=[{value:"statusProgress",label:"진행중"},{value:"statusComplete",label:"완료"}];function y(u){f.push({path:"/goal/report",query:{goalId:u.toString()}})}function C(){f.push({path:"/goal/simulation/input"})}const h=T(()=>{const u=[...d.goals];switch(r.value){case"statusProgress":return u.filter(s=>s.status==="PUBLISHED");case"statusComplete":return u.filter(s=>s.status==="ACHIEVED");default:return u}});return(u,s)=>(a(),m(B,null,[t(L,{class:"fixed bottom-24 right-4 z-40 bg-sub-yellow-p hover:bg-sub-yellow-d text-white rounded-full w-14 h-14 flex items-center justify-center max-w-[56px]",onClick:C},{default:l(()=>[(a(),v($(c(P)),{class:"w-5 h-5 sm:w-7 sm:h-7"}))]),_:1}),p("div",K,[t(R,{icon:c(N)},{default:l(()=>s[1]||(s[1]=[o("목표 리스트")])),_:1,__:[1]},8,["icon"]),t(J,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e),options:n},null,8,["modelValue"])]),p("div",null,[(a(!0),m(B,null,D(h.value,e=>(a(),v(x,{key:e.id,class:"bg-white border border-gray-150",onClick:_=>y(e.id)},{default:l(()=>[t(O,{label:e.goalName,category:e.categoryName,finType:e.nowmeName,percent:e.progressRate.toString(),color:"",class:"bg-white"},null,8,["label","category","finType","percent"]),p("div",Q,[t(x,{class:"bg-sub-yellow-bg"},{default:l(()=>[t(i,{type:"M_10_120",class:"w-full mb-2"},{default:l(()=>s[2]||(s[2]=[o("목표 금액")])),_:1,__:[2]}),t(i,{type:"B_12_120",class:"w-full"},{default:l(()=>[o(g(e.targetAmount.toLocaleString())+"원",1)]),_:2},1024)]),_:2},1024),t(x,{class:"bg-sub-yellow-bg"},{default:l(()=>[t(i,{type:"M_10_120",class:"w-full mb-2"},{default:l(()=>s[3]||(s[3]=[o("현재 달성")])),_:1,__:[3]}),t(i,{type:"B_12_120",class:"w-full"},{default:l(()=>[o(g(e.currentAmount.toLocaleString())+"원",1)]),_:2},1024)]),_:2},1024)]),p("div",W,[t(i,{type:"B_12_120",class:"flex flex-row items-center"},{default:l(()=>[(a(),v($(c(F)),{class:"w-4 mr-2"})),o(" "+g(e.goalDurationMonths)+"개월 ",1)]),_:2},1024),t(i,{type:"M_12_120",class:"text-gray-500"},{default:l(()=>[o("시작일: "+g(e.startDate),1)]),_:2},1024)])]),_:2},1032,["onClick"]))),128))])],64))}}),re=S({__name:"GoalPage",setup(b){const d=E;return(f,r)=>(a(),v(z,null,{default:l(()=>[t(x,{class:"bg-white border border-gray-150"},{default:l(()=>[t(i,{type:"B_16_120",class:"w-full mb-4"},{default:l(()=>r[0]||(r[0]=[o("총 목표 현황")])),_:1,__:[0]}),t(M,{color1:"bg-sub-yellow-p",color2:"bg-sub-orange-p",icon1:c(N),icon2:c(H),content1:c(d).totalGoalCount.toString(),content2:c(d).totalTargetAmount.toLocaleString()+"원",label1:"총 목표",label2:"총 목표 금액"},null,8,["icon1","icon2","content1","content2"])]),_:1}),t(X,{goals:c(d).goals},null,8,["goals"])]),_:1}))}});export{re as default};
