import{_ as T}from"./IconLabel.vue_vue_type_script_setup_true_lang-BzeLiESO.js";import{C as z}from"./Card-BvxrAT22.js";import{C as P,R as E,p as I,c as N,d as U,e as j,P as q,f as K,i as V}from"./chart-CugK0WYr.js";import{d as _,A as L,B as v,C as W,p as $,D as G,y as H,x as Z,E as D,G as k,H as F,c as J,o as Q,w as O,b as w,u as R,e as X}from"./index-DcTUbPG3.js";import{M as Y}from"./message-circle-KV3syv_R.js";const S={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},tt={ariaLabel:{type:String},ariaDescribedby:{type:String}},et={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...S,...tt},at=W[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function u(t){return k(t)?D(t):t}function st(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return k(e)?new Proxy(t,{}):t}function rt(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function M(t,e){t.labels=e}function A(t,e,s){const n=[];t.datasets=e.map(r=>{const a=t.datasets.find(l=>l[s]===r[s]);return!a||!r.data||n.includes(a)?{...r}:(n.push(a),Object.assign(a,r),a)})}function nt(t,e){const s={labels:[],datasets:[]};return M(s,t.labels),A(s,t.datasets,e),s}const ot=_({props:et,setup(t,e){let{expose:s,slots:n}=e;const r=$(null),a=L(null);s({chart:a});const l=()=>{if(!r.value)return;const{type:o,data:b,options:y,plugins:p,datasetIdKey:h}=t,g=nt(b,h),c=st(g,b);a.value=new P(r.value,{type:o,data:c,options:{...y},plugins:p})},i=()=>{const o=D(a.value);o&&(t.destroyDelay>0?setTimeout(()=>{o.destroy(),a.value=null},t.destroyDelay):(o.destroy(),a.value=null))},f=o=>{o.update(t.updateMode)};return G(l),H(i),Z([()=>t.options,()=>t.data],(o,b)=>{let[y,p]=o,[h,g]=b;const c=D(a.value);if(!c)return;let m=!1;if(y){const d=u(y),x=u(h);d&&d!==x&&(rt(c,d),m=!0)}if(p){const d=u(p.labels),x=u(g.labels),C=u(p.datasets),B=u(g.datasets);d!==x&&(M(c.config.data,d),m=!0),C&&C!==B&&(A(c.config.data,C,t.datasetIdKey),m=!0)}m&&F(()=>{f(c)})},{deep:!0}),()=>v("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:r},[v("p",{},[n.default?n.default():""])])}});function it(t,e){return P.register(e),_({props:S,setup(s,n){let{expose:r}=n;const a=L(null),l=i=>{a.value=i?.chart};return r({chart:a}),()=>v(ot,at({ref:l},{type:t,...s}))}})}const lt=it("radar",E),bt=_({__name:"ChartBox",props:{comparisonChart:{}},setup(t){const e=t;P.register(I,N,U,j,q,K,V);const{labels:s,currentUserData:n,recommendedProductData:r}=e.comparisonChart,a={labels:s,datasets:[{label:"현재 상품",data:n.map(i=>i*20),backgroundColor:"rgba(0, 152, 194, 0.2)",borderColor:"rgba(0, 152, 194, 1)",borderWidth:2},{label:"추천 상품",data:r.map(i=>i*20),backgroundColor:"rgba(81, 185, 16, 0.2)",borderColor:"rgba(81, 185, 16, 1)",borderWidth:2}]},l={responsive:!0,scales:{r:{beginAtZero:!0,min:0,max:100,ticks:{stepSize:25,backdropColor:"transparent"},pointLabels:{font:{size:14}}}},plugins:{legend:{labels:{font:{size:14}}}}};return(i,f)=>(Q(),J(z,{class:"bg-white border border-gray-150"},{default:O(()=>[w(T,{icon:R(Y),iconClass:"text-sub-orange-p",class:"mb-4"},{default:O(()=>f[0]||(f[0]=[X(" 현재 상품과 비교 ")])),_:1,__:[0]},8,["icon"]),w(R(lt),{data:a,options:l})]),_:1}))}});export{bt as _};
