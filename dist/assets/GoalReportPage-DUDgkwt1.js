import{d as _,c as n,o,w as a,b as s,u,e as c,t as x,v as I,j as k,g as h,s as p,F as C,h as B,a as P,p as v,D as N,I as D,L as R}from"./index-DcTUbPG3.js";import{c as $,T as A,b as y,a as T,_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-_En372kh.js";import{C as f,_ as j}from"./Card-BvxrAT22.js";import{_ as L}from"./AllGoalBox.vue_vue_type_script_setup_true_lang-CEsPDDzq.js";import{_ as O}from"./CurrentGoal.vue_vue_type_script_setup_true_lang-14Qo84Vz.js";import{C as z}from"./circle-dollar-sign-CYYNBRM8.js";import{_ as w}from"./IconLabel.vue_vue_type_script_setup_true_lang-BzeLiESO.js";import{S as F,_ as M,a as G}from"./FutureMessageCard.vue_vue_type_script_setup_true_lang-CuT9V0E_.js";import{C as H}from"./calendar-_X6J82xJ.js";import{M as S}from"./message-circle-KV3syv_R.js";import{a as W}from"./goal.mock-INTdnmCw.js";import"./NoBorderTag.vue_vue_type_script_setup_true_lang-DlyDfm_J.js";import"./goalCategory.constants-Dz8MtMeY.js";import"./formatDateLabel-_l8TbHR0.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=$("mail-warning",[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M20 14v4",key:"1hm744"}],["path",{d:"M20 22v.01",key:"12bgn6"}]]);/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=$("move-up-right",[["path",{d:"M13 5H19V11",key:"1n1gyv"}],["path",{d:"M19 5L5 19",key:"72u4yj"}]]),U="background: linear-gradient(to right, #302DAC, #5754DA)",J=_({__name:"ReportTitleBox",props:{goal:{}},setup(m){return(t,e)=>(o(),n(f,{class:"p-4 rounded-xl text-white",style:U},{default:a(()=>[s(O,{label:t.goal.goalName,category:t.goal.categoryName,finType:t.goal.nowmeName,percent:t.goal.progressRate.toString(),color:"white",class:"!bg-transparent !text-white mb-4"},null,8,["label","category","finType","percent"]),s(L,{color1:"bg-white/10",color2:"bg-white/10",icon1:u(z),icon2:u(A),content1:t.goal.targetAmount.toLocaleString()+"원",content2:t.goal.currentAmount.toLocaleString()+"원",label1:"목표 금액",label2:"현재 금액"},null,8,["icon1","icon2","content1","content2"])]),_:1}))}}),K=_({__name:"ReportCurrentBox",props:{goal:{}},setup(m){return(t,e)=>(o(),n(f,{class:"bg-white border border-gray-150"},{default:a(()=>[s(w,{icon:u(F),class:"mb-4"},{default:a(()=>e[0]||(e[0]=[c(" 목표 진행 현황 ")])),_:1,__:[0]},8,["icon"]),s(L,{color1:"bg-sub-yellow-p",color2:"bg-sub-orange-p",icon1:u(H),icon2:u(E),content1:t.goal.goalDurationMonths.toLocaleString()+"개월",content2:t.goal.remainingMonths.toLocaleString()+"개월",label1:"목표 기간",label2:"남은 기간",class:"mb-4"},null,8,["icon1","icon2","content1","content2"]),s(f,{class:"bg-sub-orange-bg border border-sub-orange-s !mb-0"},{default:a(()=>[s(y,{type:"B_12_140",class:"w-full mb-2"},{default:a(()=>e[1]||(e[1]=[c("월 저축 현황")])),_:1,__:[1]}),s(y,{type:"B_18_120",class:"w-full mb-2"},{default:a(()=>[c(x(t.goal.monthlySaveAmount.toLocaleString())+"원",1)]),_:1}),s(y,{type:"M_12_120",class:"w-full"},{default:a(()=>e[2]||(e[2]=[c("목표 달성을 위한 월 필요 금액")])),_:1,__:[2]})]),_:1})]),_:1}))}}),Q=_({__name:"ReportProductBox",props:{products:{},selectedProductId:{}},setup(m){const t=m,d=I().path.startsWith("/goal/simulation"),r=k(()=>t.products.find(l=>l.id===t.selectedProductId)),g=k(()=>t.products.filter(l=>l.id!==t.selectedProductId));return(l,i)=>(o(),h(C,null,[s(f,{class:"bg-white border border-gray-150"},{default:a(()=>[s(w,{IconLabel:"",icon:u(S),iconClass:"text-sub-yellow-p",class:"mb-4"},{default:a(()=>i[0]||(i[0]=[c(" 사용 중인 상품 ")])),_:1,__:[0]},8,["icon"]),r.value?(o(),n(M,{key:0,product:r.value,isSelected:!0,isCurrentPageSimulation:u(d)},null,8,["product","isCurrentPageSimulation"])):p("",!0)]),_:1}),s(f,{class:"bg-white border border-gray-150"},{default:a(()=>[s(w,{IconLabel:"",icon:u(S),iconClass:"text-sub-yellow-p",class:"mb-4"},{default:a(()=>i[1]||(i[1]=[c(" 추천 상품 ")])),_:1,__:[1]},8,["icon"]),(o(!0),h(C,null,B(g.value,b=>(o(),n(M,{key:b.id,product:b,isSelected:!1,isCurrentPageSimulation:u(d),class:"mb-4"},null,8,["product","isCurrentPageSimulation"]))),128))]),_:1})],64))}}),X={class:"fixed inset-0 bg-black bg-opacity-90 z-50 flex justify-center items-center flex-col"},Y=_({__name:"LetterOverlay",emits:["openMessage"],setup(m,{emit:t}){const e=t;return(d,r)=>(o(),h("div",X,[s(y,{type:"B_28_160",class:"text-white mb-4"},{default:a(()=>r[1]||(r[1]=[c("미래에서 메시지가 왔어요!")])),_:1,__:[1]}),P("button",{onClick:r[0]||(r[0]=g=>e("openMessage")),"aria-label":"편지 열기",class:"focus:outline-none"},[s(u(q),{alt:"편지 아이콘",class:"w-40 h-40 text-gray-50 animate-shake"})])]))}}),Z=j(Y,[["__scopeId","data-v-0d56e07f"]]),ee=_({__name:"AchievedButton",props:{goalId:{}},setup(m){return(t,e)=>(o(),n(T,null,{default:a(()=>e[0]||(e[0]=[c(" 목표 완료하기 ")])),_:1,__:[0]}))}}),te={class:"mb-4"},fe=_({__name:"GoalReportPage",setup(m){const t=I(),e=v(null),d=v(!0),r=v(!1);return N(()=>{const g=t.query.goalId;if(typeof g=="string"){const l=parseInt(g,10);if(!isNaN(l)){const i=W.find(b=>b.id===l);e.value=i??null}}}),(g,l)=>(o(),n(V,null,{default:a(()=>[d.value?(o(),n(Z,{key:0,onOpenMessage:l[0]||(l[0]=i=>{d.value=!1,r.value=!0})})):p("",!0),r.value&&e.value?(o(),n(G,{key:1,message:e.value.futureMeMessage,onClose:l[1]||(l[1]=i=>r.value=!1)},null,8,["message"])):p("",!0),D(P("div",te,[e.value?(o(),n(J,{key:0,goal:e.value},null,8,["goal"])):p("",!0),e.value?(o(),n(K,{key:1,goal:e.value},null,8,["goal"])):p("",!0),e.value?(o(),n(Q,{key:2,products:e.value.recommendedProducts,selectedProductId:e.value.selectedProductId},null,8,["products","selectedProductId"])):p("",!0),e.value?(o(),n(ee,{key:3,goalId:e.value?.id},null,8,["goalId"])):p("",!0)],512),[[R,!d.value&&!r.value]])]),_:1}))}});export{fe as default};
